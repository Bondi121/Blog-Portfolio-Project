<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile page</title>
    {{ moment.include_moment() }}
</head>
<body>
    <div class="container">
        <nav>
            <a href="/homepage">My Blog Website</a>
            <a href="/create_post">create a new post </a>
            <a href="/update_user" id="user_update">Edit my profile</a>
        </nav>
        <main>
        
            <h1>User profile page</h1>
            

            <section>
                <p class="firstname">First name: {{user_details.first_name}}</p>
                <p class="lastname">Last name: {{user_details.last_name}}</p>
                <p class="address">Adress: {{user_details.address}}</p>
                <p class="username">Username: {{user_details.username}}</p>
                <p class="email">Email: {{user_details.email}}</p>
            </section>

            <div class="delete_item">
                <a href="{{url_for('delete_user', username=user_details.username)}}" id="delete_user">Delete Account</a>
            </div>

            <h2>User's posts</h2>
            <section>
                {% for blog in blogs %}
                <article>
                    <a href="{{url_for('get_post', title=blog.title) }}"><h2>{{blog.title}}</h2></a>
                    <p>Post created at: {{ moment(blog.date_posted).format('MMMM Do YYYY, h:mm a') }}.</p>
                </article>
                    <a href="{{url_for('delete_post', id=blog.id, user_id=user_details.id) }}"><button>Delete Post</button></a>
                    <a href="{{url_for('update_post', id=blog.id) }}"><button>Update Post</button></a>
                {% endfor %}
            </section>

        </main>
    </div>

    <script src="{{url_for('static', filename='user_profile.js')}}"></script>

</body>
</html>